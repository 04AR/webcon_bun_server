function TrackPad(e,t,a){var o=document.getElementById(e);if(o){t&&(t.width&&(o.style.width=t.width),t.height&&(o.style.height=t.height)),o.style.position="relative",o.style.touchAction="none",o.style.userSelect="none",o.style.overflow="hidden";var s=0,n={},i={},p=!1;o.addEventListener("touchstart",(function(e){e.preventDefault(),1===e.touches.length?(n.startTime=Date.now(),n.startX=e.touches[0].pageX,n.startY=e.touches[0].pageY):2===e.touches.length&&(i.startTime=Date.now(),i.initialDistance=g(e.touches[0],e.touches[1]),i.initialMidpoint=l(e.touches[0],e.touches[1]),i.startPositions=[{x:e.touches[0].pageX,y:e.touches[0].pageY},{x:e.touches[1].pageX,y:e.touches[1].pageY}])}),{passive:!1}),o.addEventListener("touchmove",(function(e){if(e.preventDefault(),1===e.touches.length){var t={x:e.touches[0].pageX,y:e.touches[0].pageY};a({type:"touchmove",pos:t})}else if(2===e.touches.length){var o=g(e.touches[0],e.touches[1])/i.initialDistance,s=l(e.touches[0],e.touches[1]);Math.abs(o-1)>.05&&(p=!0,a({type:"pinch",scale:o,midpoint:s}));var n={dx:e.touches[0].pageX-i.startPositions[0].x,dy:e.touches[0].pageY-i.startPositions[0].y},u={dx:e.touches[1].pageX-i.startPositions[1].x,dy:e.touches[1].pageY-i.startPositions[1].y};if(Math.abs(n.dx-u.dx)<10&&Math.abs(n.dy-u.dy)<10)a({type:"twoFingerScroll",dx:(n.dx+u.dx)/2,dy:(n.dy+u.dy)/2})}}),{passive:!1}),o.addEventListener("touchend",(function(e){if(e.preventDefault(),0===e.touches.length){if(!p&&n.startTime){var t=Date.now()-n.startTime,o=e.changedTouches[0].pageX-n.startX,u=e.changedTouches[0].pageY-n.startY,c=Math.sqrt(o*o+u*u);t<250&&c<10&&(s&&Date.now()-s<300?(a({type:"doubleTap",pos:{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}}),s=0):(s=Date.now(),a({type:"tap",pos:{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}})))}if(i.startTime){var h=Date.now()-i.startTime;!p&&h<250&&a({type:"twoFingerTap"})}n={},i={},p=!1}}),{passive:!1}),o.addEventListener("touchcancel",(function(e){e.preventDefault(),n={},i={},p=!1}),{passive:!1});var u=!1,c=0,h=0,r=0,d=0;o.addEventListener("mousedown",(function(e){e.preventDefault(),u=!0,c=Date.now(),h=e.pageX,r=e.pageY})),o.addEventListener("mousemove",(function(e){u&&(e.preventDefault(),a({type:"mousemove",pos:{x:e.pageX,y:e.pageY}}))})),o.addEventListener("mouseup",(function(e){if(u){e.preventDefault(),u=!1;var t=Date.now()-c,o=e.pageX-h,s=e.pageY-r,n=Math.sqrt(o*o+s*s);t<250&&n<10&&(d&&Date.now()-d<300?(a({type:"doubleTap",pos:{x:e.pageX,y:e.pageY}}),d=0):(d=Date.now(),a({type:"tap",pos:{x:e.pageX,y:e.pageY}})))}})),o.addEventListener("mouseleave",(function(e){u&&(u=!1)})),o.addEventListener("wheel",(function(e){e.preventDefault();var t=e.deltaY,o={x:e.pageX,y:e.pageY};a({type:"wheel",delta:t,pos:o})}))}else console.error("TrackPad: No element with id",e);function g(e,t){var a=t.pageX-e.pageX,o=t.pageY-e.pageY;return Math.sqrt(a*a+o*o)}function l(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}}